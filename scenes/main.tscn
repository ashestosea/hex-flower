[gd_scene load_steps=12 format=3 uid="uid://nw74v30v0d5m"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_l30f5"]
[ext_resource type="Script" path="res://scripts/navigation.gd" id="2_acrp8"]
[ext_resource type="Script" path="res://scripts/flower.gd" id="2_bbsd1"]
[ext_resource type="PackedScene" uid="uid://lrirg2rvgvgy" path="res://scenes/hexagon.tscn" id="2_xmpkj"]
[ext_resource type="Texture2D" uid="uid://bwdadn11k7lil" path="res://assets/die.png" id="5_1hi5d"]
[ext_resource type="Theme" uid="uid://ffkwu82iptgy" path="res://themes/default_theme.tres" id="5_dole0"]
[ext_resource type="PackedScene" uid="uid://d0o8b2xgk3n8o" path="res://scenes/debug_Flower.tscn" id="6_gqvfc"]
[ext_resource type="FontFile" uid="uid://c8o3wuh7ogcl" path="res://assets/fonts/Goli-Bold.ttf" id="8_ov8oy"]

[sub_resource type="Gradient" id="Gradient_jlrso"]
colors = PackedColorArray(0.0750955, 0.263816, 0.186865, 1, 0.148745, 0.138951, 0.339516, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_48q85"]
gradient = SubResource("Gradient_jlrso")
width = 800

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_pov2f"]
bg_color = Color(0.214703, 0.214703, 0.214702, 1)

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 3.0
offset_bottom = -796.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = ExtResource("5_dole0")

[node name="Manager" type="Node" parent="." node_paths=PackedStringArray("flower", "navigation", "dice_line_edit", "history_text_edit", "load_modal", "file_dialog")]
script = ExtResource("1_l30f5")
flower = NodePath("../MarginContainer/HexFlower")
navigation = NodePath("../MarginContainer/NavigationContainer/Navigation")
dice_line_edit = NodePath("../MarginContainer/Dice/LineEdit")
history_text_edit = NodePath("../MarginContainer/History/VBoxContainer/TextEdit_History")
load_modal = NodePath("../MarginContainer/LoadModal")
file_dialog = NodePath("../FileDialog")

[node name="FileDialog" type="FileDialog" parent="."]
title = "Open a File"
ok_button_text = "Open"
file_mode = 0
access = 2

[node name="MarginContainer" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Sprite2D" type="Sprite2D" parent="MarginContainer"]
position = Vector2(400, 800)
scale = Vector2(1, 1600)
texture = SubResource("GradientTexture1D_48q85")

[node name="NavigationContainer" type="CenterContainer" parent="MarginContainer"]
layout_mode = 2
offset_left = 520.0
offset_top = 48.0
offset_right = 760.0
offset_bottom = 228.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Navigation" type="Control" parent="MarginContainer/NavigationContainer"]
layout_mode = 2
script = ExtResource("2_acrp8")
metadata/_edit_lock_ = true

[node name="Label" type="Label" parent="MarginContainer/NavigationContainer/Navigation"]
layout_mode = 0
offset_left = -76.0
offset_top = -123.0
offset_right = 76.0
offset_bottom = -92.0
theme_type_variation = &"HeaderMedium"
text = "Navigation"

[node name="Hexagon" parent="MarginContainer/NavigationContainer/Navigation" instance=ExtResource("2_xmpkj")]
metadata/_edit_lock_ = true

[node name="LineEdits" type="Control" parent="MarginContainer/NavigationContainer/Navigation"]
layout_mode = 2
anchors_preset = 0
offset_left = -140.0
offset_top = -90.0
offset_right = 140.0
offset_bottom = 90.0

[node name="LineEdit_Stay" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -45.0
offset_top = -14.5
offset_right = 45.0
offset_bottom = 14.5
grow_horizontal = 2
grow_vertical = 2
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="LineEdit_N" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -45.0
offset_right = 45.0
offset_bottom = 33.0
grow_horizontal = 2
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="LineEdit_NE" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = -1
anchor_left = 1.0
anchor_top = 0.2
anchor_right = 1.0
anchor_bottom = 0.2
offset_left = -90.0
offset_bottom = 29.0
grow_horizontal = 0
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="LineEdit_SE" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = -1
anchor_left = 1.0
anchor_top = 0.8
anchor_right = 1.0
anchor_bottom = 0.8
offset_left = -90.0
offset_top = -29.0
grow_horizontal = 0
grow_vertical = 0
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="LineEdit_S" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -45.0
offset_top = -33.0
offset_right = 45.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="LineEdit_SW" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.8
anchor_bottom = 0.8
offset_top = -29.0
offset_right = 90.0
grow_vertical = 0
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="LineEdit_NW" type="LineEdit" parent="MarginContainer/NavigationContainer/Navigation/LineEdits"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.2
anchor_bottom = 0.2
offset_right = 90.0
offset_bottom = 29.0
alignment = 1
virtual_keyboard_type = 2
right_icon = ExtResource("5_1hi5d")
select_all_on_focus = true

[node name="Dice" type="VBoxContainer" parent="MarginContainer"]
layout_mode = 2
offset_left = 600.0
offset_top = 262.0
offset_right = 681.0
offset_bottom = 330.0
size_flags_horizontal = 4
size_flags_vertical = 3

[node name="Label" type="Label" parent="MarginContainer/Dice"]
layout_mode = 2
theme_type_variation = &"HeaderMedium"
text = "Dice"
metadata/_edit_lock_ = true

[node name="LineEdit" type="LineEdit" parent="MarginContainer/Dice"]
layout_mode = 2
text = "3d3"
metadata/_edit_lock_ = true

[node name="History" type="MarginContainer" parent="MarginContainer"]
layout_mode = 2
offset_left = 46.0
offset_top = 690.0
offset_right = 358.0
offset_bottom = 1525.0
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/History"]
layout_mode = 2
metadata/_edit_lock_ = true

[node name="Label" type="Label" parent="MarginContainer/History/VBoxContainer"]
layout_mode = 2
theme_type_variation = &"HeaderMedium"
text = "History"
metadata/_edit_lock_ = true

[node name="TextEdit_History" type="TextEdit" parent="MarginContainer/History/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
text = "Student/Shopkeep
Laborer
Performer
Cutpurse"
metadata/_edit_lock_ = true

[node name="Flower" parent="MarginContainer" instance=ExtResource("6_gqvfc")]
visible = false
layout_mode = 2
offset_left = 293.0
offset_top = 388.0
offset_right = 293.0
offset_bottom = 388.0

[node name="HexFlower" type="Control" parent="MarginContainer"]
anchors_preset = 0
offset_left = 293.0
offset_top = 388.0
offset_right = 293.0
offset_bottom = 388.0
script = ExtResource("2_bbsd1")

[node name="Button_Roll" type="Button" parent="MarginContainer"]
layout_mode = 0
offset_left = 602.0
offset_top = 403.0
offset_right = 703.0
offset_bottom = 448.0
size_flags_horizontal = 4
size_flags_vertical = 4
text = "Roll"

[node name="Button_Save" type="Button" parent="MarginContainer"]
layout_mode = 2
offset_left = 534.0
offset_top = 589.0
offset_right = 635.0
offset_bottom = 634.0
size_flags_horizontal = 4
size_flags_vertical = 4
text = "Save"

[node name="Button_Open" type="Button" parent="MarginContainer"]
layout_mode = 0
offset_left = 668.0
offset_top = 588.0
offset_right = 769.0
offset_bottom = 633.0
size_flags_horizontal = 4
size_flags_vertical = 4
text = "Open"

[node name="FlowerName" type="Label" parent="MarginContainer"]
layout_mode = 0
offset_left = 36.0
offset_top = 23.0
offset_right = 258.0
offset_bottom = 54.0
theme_type_variation = &"HeaderMedium"
text = "Name"

[node name="LoadModal" type="Panel" parent="MarginContainer"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_pov2f")

[node name="MarginContainer" type="MarginContainer" parent="MarginContainer/LoadModal"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/LoadModal/MarginContainer"]
layout_mode = 2

[node name="LoadFileBox" type="VBoxContainer" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.1

[node name="Label" type="Label" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer/LoadFileBox"]
layout_mode = 2
theme_type_variation = &"HeaderMedium"
text = "Load from file"

[node name="Button_LoadFile" type="Button" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer/LoadFileBox"]
layout_mode = 2
size_flags_horizontal = 0
text = "Load File"

[node name="Control" type="Control" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.05

[node name="PasteJSONBox" type="VBoxContainer" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="Label" type="Label" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer/PasteJSONBox"]
layout_mode = 2
theme_type_variation = &"HeaderMedium"
text = "Paste JSON"

[node name="TextEdit" type="TextEdit" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer/PasteJSONBox"]
layout_mode = 2
size_flags_vertical = 3

[node name="Button_LoadJSON" type="Button" parent="MarginContainer/LoadModal/MarginContainer/VBoxContainer/PasteJSONBox"]
layout_mode = 2
size_flags_horizontal = 4
text = "Load JSON"

[node name="Button" type="Button" parent="MarginContainer/LoadModal/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0
theme_override_fonts/font = ExtResource("8_ov8oy")
text = "×"
flat = true

[connection signal="pressed" from="MarginContainer/Button_Roll" to="Manager" method="_on_button_roll_pressed"]
[connection signal="pressed" from="MarginContainer/Button_Save" to="Manager" method="_on_button_roll_pressed"]
[connection signal="pressed" from="MarginContainer/Button_Open" to="Manager" method="_on_button_open_pressed"]
[connection signal="pressed" from="MarginContainer/LoadModal/MarginContainer/VBoxContainer/LoadFileBox/Button_LoadFile" to="Manager" method="_on_button_load_file_pressed"]
[connection signal="pressed" from="MarginContainer/LoadModal/MarginContainer/VBoxContainer/PasteJSONBox/Button_LoadJSON" to="Manager" method="_on_button_load_json_pressed"]
[connection signal="pressed" from="MarginContainer/LoadModal/MarginContainer/Button" to="MarginContainer/LoadModal" method="hide"]
[connection signal="pressed" from="MarginContainer/LoadModal/MarginContainer/Button" to="MarginContainer/LoadModal/MarginContainer/VBoxContainer/PasteJSONBox/TextEdit" method="clear"]
